/*!
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * @author  SJ Chou, <sj@toright.com>
 * @version 1.1.3
 * @date    2021-03-18
 * @site    https://github.com/samejack/jform
 */
jQuery.fn.jform=function(e){if(void 0===e){var t={};return($.each($(this).serializeArray(),function(){this.name.match(/^.+\[\]$/)?("object"!=typeof t[this.name]&&(t[this.name]=[]),t[this.name].push(this.value)):void 0===t[this.name]?t[this.name]=this.value:jQuery.isArray(t[this.name])?t[this.name].push(this.value):("string"==typeof t[this.name]||"number"==typeof t[this.name])&&(t[this.name]=[t[this.name],this.value])}),$(this).find('input[type="hidden"]').each(function(){void 0===t[this.name]&&(this.name.match(/^.+\[\]$/)?("object"!=typeof t[this.name]&&(t[this.name]=[]),t[this.name].push(this.value)):void 0===t[this.name]?t[this.name]=this.value:jQuery.isArray(t[this.name])?t[this.name].push(this.value):("string"==typeof t[this.name]||"number"==typeof t[this.name])&&(t[this.name]=[t[this.name],this.value]))}),"object"==typeof JSON&&"function"==typeof JSON.stringify)?JSON.stringify(t):$.toJSON(t)}var i,a=this,s=null;if("string"==typeof e?s=jQuery.parseJSON(e):"object"==typeof e&&(s=e),null===s){console.error("input obj not found.");return}for(var n in i=function(e,t){if(null!=t){var i=$("#"+e);0===i.size()&&(i=a.find('input[name="'+e+'"], select[name="'+e+'"], textarea[name="'+e+'"], input[name="'+e+'[]"], select[name="'+e+'[]"], textarea[name="'+e+'[]"]')),$.each(i,function(e,i){var a=$(i),s=null;if(void 0===a.context){if(void 0===(s=a.attr("type"))){var n=a.prop("tagName");"TEXTAREA"===n?s="textarea":"SELECT"===n&&(s=void 0!==a.attr("multiple")&&("multiple"===a.attr("multiple").toLowerCase()||"true"===a.attr("multiple").toLowerCase())?"select-multiple":"select")}}else s=a.context.type;switch(s){case"text":case"hidden":case"email":case"date":case"datetime-local":case"color":case"month":case"number":case"password":case"search":case"range":case"tel":case"url":case"time":case"week":case"select-one":case"select":a.val(t),a.triggerHandler("change");break;case"checkbox":a.each(function(){if("string"==typeof t||"number"==typeof t)$(this).val().toString()===t.toString()?$(this).prop("checked",!0):$(this).prop("checked",!1);else if("object"==typeof t)for(var e in $(this).prop("checked",!1),t)$(this).val().toString()===t[e].toString()&&$(this).prop("checked",!0)});break;case"select-multiple":a.find("option").each(function(){if($(this).prop("selected",!1),"object"==typeof t)for(var e in t)($(this).val().toString()===t[e].toString()||$(this).text()===t[e].toString())&&$(this).prop("selected",!0);else $(this).val().toString()===t.toString()&&$(this).prop("selected",!0)});break;case"radio":a.each(function(){$(this).val().toString()===t.toString()&&$(this).prop("checked",!0)});break;case"textarea":a.val(t);break;default:console.error("unknown type: "+s)}})}},s)s.hasOwnProperty(n)&&null!=s[n]&&i(n,s[n])};
//# sourceMappingURL=jform.map
